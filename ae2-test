local bridge = peripheral.find("me_bridge")
local monitor = peripheral.find("monitor")

if not bridge then
    print("Keine ME-Bridge gefunden!")
    return
end

if not monitor then
    print("Kein Monitor gefunden!")
    return
end

monitor.clear()
monitor.setCursorPos(1,1)
monitor.setTextScale(1)

-- Alle aktiven Crafting-Jobs abrufen
local jobs = bridge.listCraftingJobs()

if #jobs == 0 then
    monitor.write("Keine aktiven Crafting-Jobs gefunden.")
else
    for i, job in ipairs(jobs) do
        local detailedJob, err = bridge.getCraftingJob(job.id)
        if detailedJob then
            monitor.write("Job ID: " .. detailedJob.id .. "\n")
            monitor.write("Status: " .. tostring(detailedJob.status) .. "\n")
            monitor.write("Item: " .. tostring(detailedJob.item) .. "\n")
            monitor.write("Menge: " .. tostring(detailedJob.amount) .. "\n")
            monitor.write("------------------------\n")
        else
            monitor.write("Job ID " .. job.id .. " konnte nicht gefunden werden: " .. err .. "\n")
        end
    end
end
